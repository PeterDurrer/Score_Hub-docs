import{_ as d,c as e,o,ag as r}from"./chunks/framework.dvv-DFtf.js";const u=JSON.parse('{"title":"Datenbankschema","description":"","frontmatter":{},"headers":[],"relativePath":"development/database-schema.md","filePath":"development/database-schema.md"}'),c={name:"development/database-schema.md"};function n(a,t,s,i,l,h){return o(),e("div",null,[...t[0]||(t[0]=[r(`<h1 id="datenbankschema" tabindex="-1">Datenbankschema <a class="header-anchor" href="#datenbankschema" aria-label="Permalink to &quot;Datenbankschema&quot;">​</a></h1><p>Diese Seite beschreibt das vollständige Datenbankschema von ScoreHub, einschließlich aller Tabellen, Felder, Datentypen und Beziehungen.</p><h2 id="ubersicht" tabindex="-1">Übersicht <a class="header-anchor" href="#ubersicht" aria-label="Permalink to &quot;Übersicht&quot;">​</a></h2><p>ScoreHub verwendet Azure SQL Database mit folgenden Hauptbereichen:</p><ul><li><strong>Benutzer &amp; Authentifizierung</strong>: Users, Roles, UserRoles</li><li><strong>Vereine &amp; Organisationen</strong>: Clubs</li><li><strong>Kategorien</strong>: Categories</li><li><strong>Schützen</strong>: Shooters</li><li><strong>Schiessanlagen</strong>: Ranges</li><li><strong>Wettkämpfe</strong>: Competitions, Groups, CompetitionUsers</li><li><strong>Ergebnisse</strong>: Results</li><li><strong>Konfiguration</strong>: RanglistenConfigs, AuditLog</li></ul><h2 id="audit-felder" tabindex="-1">Audit-Felder <a class="header-anchor" href="#audit-felder" aria-label="Permalink to &quot;Audit-Felder&quot;">​</a></h2><p>Alle Tabellen enthalten standardmäßige Audit-Felder für Nachverfolgung:</p><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>User-ID des Erstellers (nullable)</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>Erstellungszeitpunkt</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>User-ID des letzten Bearbeiters (nullable)</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>Letzte Änderungszeitpunkt (nullable)</td></tr><tr><td><code>IsDeleted</code></td><td><code>BIT</code></td><td>Soft-Delete Flag</td></tr><tr><td><code>DeletedAt</code></td><td><code>DATETIME2</code></td><td>Löschzeitpunkt (nullable)</td></tr><tr><td><code>DeletedBy</code></td><td><code>NVARCHAR(100)</code></td><td>User-ID des Löschers (nullable)</td></tr></tbody></table><h2 id="tabellen-details" tabindex="-1">Tabellen-Details <a class="header-anchor" href="#tabellen-details" aria-label="Permalink to &quot;Tabellen-Details&quot;">​</a></h2><h3 id="users-benutzer" tabindex="-1">Users (Benutzer) <a class="header-anchor" href="#users-benutzer" aria-label="Permalink to &quot;Users (Benutzer)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Email</code></td><td><code>NVARCHAR</code></td><td>255</td><td>Nein</td><td>Eindeutige E-Mail-Adresse</td></tr><tr><td><code>PasswordHash</code></td><td><code>NVARCHAR</code></td><td>255</td><td>Nein</td><td>bcrypt-Hash des Passworts</td></tr><tr><td><code>FirstName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Vorname</td></tr><tr><td><code>LastName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Nachname</td></tr><tr><td><code>PreferredLanguage</code></td><td><code>NVARCHAR</code></td><td>2</td><td>Nein</td><td>Sprachcode (de, fr, it)</td></tr><tr><td><code>ClubId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Verknüpfung zu Club</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>LastLoginAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Anmeldung</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Users_Email</code> (Email)</li><li><code>IX_Users_ClubId</code> (ClubId)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>ClubId</code> → <code>Clubs.Id</code></li></ul><h3 id="roles-rollen" tabindex="-1">Roles (Rollen) <a class="header-anchor" href="#roles-rollen" aria-label="Permalink to &quot;Roles (Rollen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Nein</td><td>Eindeutiger Rollenname</td></tr><tr><td><code>DisplayName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Nein</td><td>Anzeigename</td></tr><tr><td><code>Description</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Beschreibung</td></tr><tr><td><code>SortOrder</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Sortierreihenfolge</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><h3 id="userroles-benutzer-rollen" tabindex="-1">UserRoles (Benutzer-Rollen) <a class="header-anchor" href="#userroles-benutzer-rollen" aria-label="Permalink to &quot;UserRoles (Benutzer-Rollen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>UserId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Teil des zusammengesetzten Primärschlüssels</td></tr><tr><td><code>RoleId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Teil des zusammengesetzten Primärschlüssels</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Fremdschlüssel:</strong></p><ul><li><code>UserId</code> → <code>Users.Id</code></li><li><code>RoleId</code> → <code>Roles.Id</code></li></ul><h3 id="clubs-vereine" tabindex="-1">Clubs (Vereine) <a class="header-anchor" href="#clubs-vereine" aria-label="Permalink to &quot;Clubs (Vereine)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Nein</td><td>Vereinsname</td></tr><tr><td><code>ShortName</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Ja</td><td>Kurzname</td></tr><tr><td><code>Address</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Adresse</td></tr><tr><td><code>ZipCode</code></td><td><code>NVARCHAR</code></td><td>10</td><td>Ja</td><td>Postleitzahl</td></tr><tr><td><code>City</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Ort</td></tr><tr><td><code>Canton</code></td><td><code>NVARCHAR</code></td><td>2</td><td>Ja</td><td>Kanton (CH)</td></tr><tr><td><code>Country</code></td><td><code>NVARCHAR</code></td><td>2</td><td>Nein</td><td>Land (ISO 2-letter)</td></tr><tr><td><code>ContactEmail</code></td><td><code>NVARCHAR</code></td><td>255</td><td>Ja</td><td>Kontakt-E-Mail</td></tr><tr><td><code>ContactPhone</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Ja</td><td>Kontakt-Telefon</td></tr><tr><td><code>LogoUrl</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Logo-URL</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Clubs_Name</code> (Name)</li><li><code>IX_Clubs_Canton</code> (Canton)</li></ul><h3 id="categories-kategorien" tabindex="-1">Categories (Kategorien) <a class="header-anchor" href="#categories-kategorien" aria-label="Permalink to &quot;Categories (Kategorien)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Code</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Nein</td><td>Eindeutiger Code</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Nein</td><td>Anzeigename</td></tr><tr><td><code>MinAge</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Mindestalter</td></tr><tr><td><code>MaxAge</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Höchstalter</td></tr><tr><td><code>Gender</code></td><td><code>NVARCHAR</code></td><td>1</td><td>Ja</td><td>Geschlecht (M, F, X)</td></tr><tr><td><code>Description</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Beschreibung</td></tr><tr><td><code>SortOrder</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Sortierreihenfolge</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Categories_Code</code> (Code)</li></ul><h3 id="shooters-schutzen" tabindex="-1">Shooters (Schützen) <a class="header-anchor" href="#shooters-schutzen" aria-label="Permalink to &quot;Shooters (Schützen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>LicenseNumber</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Nein</td><td>Eindeutige Lizenznummer</td></tr><tr><td><code>FirstName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Nein</td><td>Vorname</td></tr><tr><td><code>LastName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Nein</td><td>Nachname</td></tr><tr><td><code>BirthYear</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Geburtsjahr (für schnelle Altersberechnungen)</td></tr><tr><td><code>BirthDate</code></td><td><code>DATE</code></td><td>-</td><td>Ja</td><td>Vollständiges Geburtsdatum</td></tr><tr><td><code>Gender</code></td><td><code>NVARCHAR</code></td><td>1</td><td>Ja</td><td>Geschlecht (M, F, X)</td></tr><tr><td><code>ClubId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Vereinszugehörigkeit</td></tr><tr><td><code>Address</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Ja</td><td>Adresse</td></tr><tr><td><code>ZipCode</code></td><td><code>NVARCHAR</code></td><td>10</td><td>Ja</td><td>Postleitzahl</td></tr><tr><td><code>City</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Ort</td></tr><tr><td><code>Canton</code></td><td><code>NVARCHAR</code></td><td>2</td><td>Ja</td><td>Kanton</td></tr><tr><td><code>CategoryG300</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Ja</td><td>Kategorie G300</td></tr><tr><td><code>LicenseG300</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Ja</td><td>Lizenz G300</td></tr><tr><td><code>UserId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Verknüpfung zu Benutzerkonto</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Shooters_LicenseNumber</code> (LicenseNumber)</li><li><code>IX_Shooters_LastName</code> (LastName)</li><li><code>IX_Shooters_ClubId</code> (ClubId)</li><li><code>IX_Shooters_BirthYear</code> (BirthYear)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>ClubId</code> → <code>Clubs.Id</code></li><li><code>UserId</code> → <code>Users.Id</code></li></ul><h3 id="ranges-schiessanlagen" tabindex="-1">Ranges (Schiessanlagen) <a class="header-anchor" href="#ranges-schiessanlagen" aria-label="Permalink to &quot;Ranges (Schiessanlagen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Nein</td><td>Name der Anlage</td></tr><tr><td><code>ShortName</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Ja</td><td>Kurzname</td></tr><tr><td><code>Address</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Adresse</td></tr><tr><td><code>ZipCode</code></td><td><code>NVARCHAR</code></td><td>10</td><td>Ja</td><td>Postleitzahl</td></tr><tr><td><code>City</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Ort</td></tr><tr><td><code>Canton</code></td><td><code>NVARCHAR</code></td><td>2</td><td>Ja</td><td>Kanton</td></tr><tr><td><code>Distance</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Distanz in Metern</td></tr><tr><td><code>Lanes</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Anzahl Scheiben</td></tr><tr><td><code>ClubId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Besitzender Verein</td></tr><tr><td><code>IsActive</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Aktiv-Status</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Ranges_Distance</code> (Distance)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>ClubId</code> → <code>Clubs.Id</code></li></ul><h3 id="competitions-wettkampfe" tabindex="-1">Competitions (Wettkämpfe) <a class="header-anchor" href="#competitions-wettkampfe" aria-label="Permalink to &quot;Competitions (Wettkämpfe)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Nein</td><td>Wettkampfname</td></tr><tr><td><code>ShortName</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Ja</td><td>Kurzname</td></tr><tr><td><code>Description</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Beschreibung</td></tr><tr><td><code>Type</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Nein</td><td>Typ (einzelwettkampf, gruppenwettkampf)</td></tr><tr><td><code>Status</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Nein</td><td>Status (draft, published, etc.)</td></tr><tr><td><code>Year</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Wettkampfjahr</td></tr><tr><td><code>Location</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Ja</td><td>Ort</td></tr><tr><td><code>StartDate</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Startdatum</td></tr><tr><td><code>EndDate</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Enddatum</td></tr><tr><td><code>RangeId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Schiessanlage</td></tr><tr><td><code>Distance</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Distanz in Metern</td></tr><tr><td><code>NumberOfShots</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Anzahl Schüsse</td></tr><tr><td><code>MaxScore</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Maximale Punktzahl</td></tr><tr><td><code>Discipline</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Ja</td><td>Disziplin-Code</td></tr><tr><td><code>ClubId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Organisierender Verein</td></tr><tr><td><code>RankingConfig</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Ranglisten-Konfiguration (JSON)</td></tr><tr><td><code>Categories</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Kategorien (JSON)</td></tr><tr><td><code>EquipmentCategories</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Ausrüstungs-Kategorien</td></tr><tr><td><code>AwardMatrix</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Auszeichnungs-Matrix (JSON)</td></tr><tr><td><code>Config</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Zusätzliche Konfiguration (JSON)</td></tr><tr><td><code>EntryFee</code></td><td><code>DECIMAL(10,2)</code></td><td>-</td><td>Ja</td><td>Einschreibegebühr</td></tr><tr><td><code>MaxParticipants</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Maximale Teilnehmerzahl</td></tr><tr><td><code>RegistrationDeadline</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Anmeldeschluss</td></tr><tr><td><code>IsPublic</code></td><td><code>BIT</code></td><td>-</td><td>Nein</td><td>Öffentlich sichtbar</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Competitions_Status</code> (Status)</li><li><code>IX_Competitions_StartDate</code> (StartDate)</li><li><code>IX_Competitions_Type</code> (Type)</li><li><code>IX_Competitions_Year</code> (Year)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>RangeId</code> → <code>Ranges.Id</code></li><li><code>ClubId</code> → <code>Clubs.Id</code></li></ul><h3 id="ranglistenconfigs-ranglisten-konfigurationen" tabindex="-1">RanglistenConfigs (Ranglisten-Konfigurationen) <a class="header-anchor" href="#ranglistenconfigs-ranglisten-konfigurationen" aria-label="Permalink to &quot;RanglistenConfigs (Ranglisten-Konfigurationen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Nein</td><td>Konfigurationsname</td></tr><tr><td><code>Config</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Nein</td><td>Konfiguration (JSON)</td></tr><tr><td><code>CompetitionId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Verknüpfte Wettkampf</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_RanglistenConfigs_CompetitionId</code> (CompetitionId)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>CompetitionId</code> → <code>Competitions.Id</code></li></ul><h3 id="groups-gruppen" tabindex="-1">Groups (Gruppen) <a class="header-anchor" href="#groups-gruppen" aria-label="Permalink to &quot;Groups (Gruppen)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>CompetitionId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Verknüpfter Wettkampf</td></tr><tr><td><code>Name</code></td><td><code>NVARCHAR</code></td><td>200</td><td>Nein</td><td>Gruppenname</td></tr><tr><td><code>ClubId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Vereinszugehörigkeit</td></tr><tr><td><code>CategoryId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Kategorie</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Groups_CompetitionId</code> (CompetitionId)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>CompetitionId</code> → <code>Competitions.Id</code></li><li><code>ClubId</code> → <code>Clubs.Id</code></li><li><code>CategoryId</code> → <code>Categories.Id</code></li></ul><h3 id="groupmembers-gruppenmitglieder" tabindex="-1">GroupMembers (Gruppenmitglieder) <a class="header-anchor" href="#groupmembers-gruppenmitglieder" aria-label="Permalink to &quot;GroupMembers (Gruppenmitglieder)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>GroupId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Teil des zusammengesetzten Primärschlüssels</td></tr><tr><td><code>ShooterId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Teil des zusammengesetzten Primärschlüssels</td></tr><tr><td><code>Position</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Position in der Gruppe</td></tr><tr><td><code>AddedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Hinzufügezeitpunkt</td></tr></tbody></table><p><strong>Fremdschlüssel:</strong></p><ul><li><code>GroupId</code> → <code>Groups.Id</code></li><li><code>ShooterId</code> → <code>Shooters.Id</code></li></ul><h3 id="competitionusers-wettkampf-benutzer" tabindex="-1">CompetitionUsers (Wettkampf-Benutzer) <a class="header-anchor" href="#competitionusers-wettkampf-benutzer" aria-label="Permalink to &quot;CompetitionUsers (Wettkampf-Benutzer)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>CompetitionId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Verknüpfter Wettkampf</td></tr><tr><td><code>UserId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Verknüpfter Benutzer</td></tr><tr><td><code>Role</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Nein</td><td>Rolle (wettkampfadmin, resultaterfasser)</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_CompetitionUsers_CompetitionId</code> (CompetitionId)</li><li><code>IX_CompetitionUsers_UserId</code> (UserId)</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>CompetitionId</code> → <code>Competitions.Id</code></li><li><code>UserId</code> → <code>Users.Id</code></li></ul><h3 id="results-ergebnisse" tabindex="-1">Results (Ergebnisse) <a class="header-anchor" href="#results-ergebnisse" aria-label="Permalink to &quot;Results (Ergebnisse)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>CompetitionId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Verknüpfter Wettkampf</td></tr><tr><td><code>ShooterId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Verknüpfter Schütze</td></tr><tr><td><code>CategoryId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Kategorie</td></tr><tr><td><code>GroupId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Gruppe (für Gruppenwettkämpfe)</td></tr><tr><td><code>Shots</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Einzelschuss-Werte (JSON)</td></tr><tr><td><code>Total</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Gesamtpunktzahl</td></tr><tr><td><code>InnerTens</code></td><td><code>INT</code></td><td>-</td><td>Nein</td><td>Innenzehner</td></tr><tr><td><code>LowestShot</code></td><td><code>DECIMAL(4,1)</code></td><td>-</td><td>Ja</td><td>Tiefschuss</td></tr><tr><td><code>Position</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Berechnete Rangierung</td></tr><tr><td><code>ShootingDate</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Schiessdatum</td></tr><tr><td><code>Lane</code></td><td><code>INT</code></td><td>-</td><td>Ja</td><td>Scheibennummer</td></tr><tr><td><code>Notes</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>Notizen</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_Results_CompetitionId</code> (CompetitionId)</li><li><code>IX_Results_ShooterId</code> (ShooterId)</li><li><code>IX_Results_Total</code> (Total DESC)</li><li><code>IX_Results_CategoryId</code> (CategoryId)</li><li><code>IX_Results_Competition_Shooter</code> (CompetitionId, ShooterId) WHERE IsDeleted = 0</li></ul><p><strong>Fremdschlüssel:</strong></p><ul><li><code>CompetitionId</code> → <code>Competitions.Id</code></li><li><code>ShooterId</code> → <code>Shooters.Id</code></li><li><code>CategoryId</code> → <code>Categories.Id</code></li><li><code>GroupId</code> → <code>Groups.Id</code></li></ul><h3 id="auditlog-audit-protokoll" tabindex="-1">AuditLog (Audit-Protokoll) <a class="header-anchor" href="#auditlog-audit-protokoll" aria-label="Permalink to &quot;AuditLog (Audit-Protokoll)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Feld</th><th>Typ</th><th>Länge</th><th>Nullable</th><th>Beschreibung</th></tr></thead><tbody><tr><td><code>Id</code></td><td><code>BIGINT IDENTITY(1,1)</code></td><td>-</td><td>Nein</td><td>Primärschlüssel</td></tr><tr><td><code>TableName</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Nein</td><td>Tabellenname</td></tr><tr><td><code>RecordId</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Nein</td><td>Datensatz-ID</td></tr><tr><td><code>Action</code></td><td><code>NVARCHAR</code></td><td>20</td><td>Nein</td><td>Aktion (INSERT, UPDATE, DELETE)</td></tr><tr><td><code>OldValues</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Alte Werte (JSON)</td></tr><tr><td><code>NewValues</code></td><td><code>NVARCHAR(MAX)</code></td><td>-</td><td>Ja</td><td>Neue Werte (JSON)</td></tr><tr><td><code>UserId</code></td><td><code>NVARCHAR</code></td><td>100</td><td>Ja</td><td>Benutzer-ID</td></tr><tr><td><code>UserEmail</code></td><td><code>NVARCHAR</code></td><td>255</td><td>Ja</td><td>Benutzer-E-Mail</td></tr><tr><td><code>IpAddress</code></td><td><code>NVARCHAR</code></td><td>50</td><td>Ja</td><td>IP-Adresse</td></tr><tr><td><code>UserAgent</code></td><td><code>NVARCHAR</code></td><td>500</td><td>Ja</td><td>User-Agent</td></tr><tr><td><code>createdFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Ersteller</td></tr><tr><td><code>createdAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Nein</td><td>Erstellungszeit</td></tr><tr><td><code>lastModifiedFrom</code></td><td><code>UNIQUEIDENTIFIER</code></td><td>-</td><td>Ja</td><td>Letzter Bearbeiter</td></tr><tr><td><code>lastModifiedAt</code></td><td><code>DATETIME2</code></td><td>-</td><td>Ja</td><td>Letzte Änderung</td></tr></tbody></table><p><strong>Indizes:</strong></p><ul><li><code>IX_AuditLog_TableName</code> (TableName)</li><li><code>IX_AuditLog_RecordId</code> (RecordId)</li><li><code>IX_AuditLog_Timestamp</code> (Timestamp)</li></ul><h2 id="beziehungen-und-abhangigkeiten" tabindex="-1">Beziehungen und Abhängigkeiten <a class="header-anchor" href="#beziehungen-und-abhangigkeiten" aria-label="Permalink to &quot;Beziehungen und Abhängigkeiten&quot;">​</a></h2><h3 id="vererbungshierarchie" tabindex="-1">Vererbungshierarchie <a class="header-anchor" href="#vererbungshierarchie" aria-label="Permalink to &quot;Vererbungshierarchie&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Users (Benutzer)</span></span>
<span class="line"><span>├── UserRoles (m:n Beziehung zu Roles)</span></span>
<span class="line"><span>├── CompetitionUsers (m:n Beziehung zu Competitions)</span></span>
<span class="line"><span>└── Shooters.UserId (1:1 Beziehung)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Clubs (Vereine)</span></span>
<span class="line"><span>├── Users.ClubId (1:n)</span></span>
<span class="line"><span>├── Shooters.ClubId (1:n)</span></span>
<span class="line"><span>├── Ranges.ClubId (1:n)</span></span>
<span class="line"><span>├── Competitions.ClubId (1:n)</span></span>
<span class="line"><span>└── Groups.ClubId (1:n)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Categories (Kategorien)</span></span>
<span class="line"><span>├── Groups.CategoryId (1:n)</span></span>
<span class="line"><span>└── Results.CategoryId (1:n)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Ranges (Schiessanlagen)</span></span>
<span class="line"><span>└── Competitions.RangeId (1:n)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Competitions (Wettkämpfe)</span></span>
<span class="line"><span>├── CompetitionUsers.CompetitionId (1:n)</span></span>
<span class="line"><span>├── Groups.CompetitionId (1:n)</span></span>
<span class="line"><span>├── RanglistenConfigs.CompetitionId (1:n)</span></span>
<span class="line"><span>├── Results.CompetitionId (1:n)</span></span>
<span class="line"><span>└── Groups.CompetitionId (1:n)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Groups (Gruppen)</span></span>
<span class="line"><span>├── GroupMembers.GroupId (1:n)</span></span>
<span class="line"><span>└── Results.GroupId (1:n)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Shooters (Schützen)</span></span>
<span class="line"><span>├── GroupMembers.ShooterId (1:n)</span></span>
<span class="line"><span>├── Results.ShooterId (1:n)</span></span>
<span class="line"><span>└── Users.Id (1:1 über UserId)</span></span></code></pre></div><h3 id="geschaftslogik-abhangigkeiten" tabindex="-1">Geschäftslogik-Abhängigkeiten <a class="header-anchor" href="#geschaftslogik-abhangigkeiten" aria-label="Permalink to &quot;Geschäftslogik-Abhängigkeiten&quot;">​</a></h3><ol><li><strong>Schützen-Kategorisierung</strong>: Shooters werden basierend auf BirthYear/BirthDate und Gender automatisch in Categories eingeteilt</li><li><strong>Wettkampf-Teilnahme</strong>: Results können nur für Shooters erstellt werden, die in der Competition registriert sind</li><li><strong>Gruppen-Wettkämpfe</strong>: Groups enthalten GroupMembers, die auf Results verweisen</li><li><strong>Ranglisten</strong>: RanglistenConfigs definieren, wie Results für eine Competition aggregiert werden</li><li><strong>Audit-Trail</strong>: Alle Änderungen werden in AuditLog protokolliert</li></ol><h2 id="datenintegritat" tabindex="-1">Datenintegrität <a class="header-anchor" href="#datenintegritat" aria-label="Permalink to &quot;Datenintegrität&quot;">​</a></h2><ul><li><strong>Soft Deletes</strong>: Alle Tabellen unterstützen Soft Deletes mit IsDeleted Flag</li><li><strong>Kaskadierende Löschungen</strong>: Nur UserRoles werden automatisch gelöscht bei User/Role Löschung</li><li><strong>Referenzielle Integrität</strong>: Alle Fremdschlüssel sind definiert mit entsprechenden Constraints</li><li><strong>Unique Constraints</strong>: Email (Users), LicenseNumber (Shooters), Code (Categories)</li><li><strong>Default Values</strong>: createdAt wird automatisch gesetzt, IsActive/IsDeleted haben sinnvolle Defaults</li></ul>`,86)])])}const p=d(c,[["render",n]]);export{u as __pageData,p as default};
